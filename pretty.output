Feature: User Registration # features/register.feature:1

  @happy
  Scenario: Successful registration with random yopmail  # features/register.feature:4
    Given I am on the registration page                  # features/steps/register_step.py:5
    When I register with a random yopmail                # features/steps/register_step.py:10
    Then I should see the registration success message   # features/steps/register_step.py:19

  @unhappy
  Scenario: Registration with existing email                                # features/register.feature:10
    Given I am on the registration page                                     # features/steps/register_step.py:5
    When I register with an existing email "gdhaison@yopmail.com"           # features/steps/register_step.py:24
    Then I should see an error message "The specified email already exists" # features/steps/register_step.py:46

  @unhappy
  Scenario: Registration with invalid email format                                            # features/register.feature:16
    Given I am on the registration page                                                       # features/steps/register_step.py:5
    When I register with email "gdhaison!yopmail.com"                                         # features/steps/register_step.py:28
    Then I should see an error message from email field "Please enter a valid email address." # features/steps/register_step.py:51

  @unhappy
  Scenario: Registration with empty required fields    # features/register.feature:22
    Given I am on the registration page                # features/steps/register_step.py:5
    When I click register without filling any fields   # features/steps/register_step.py:42
    Then I should see required field validation errors # features/steps/register_step.py:66
      ASSERT FAILED: Expected validation errors but got none

----
CAPTURED LOG: before_scenario
LOG_INFO:automation: ===== START SCENARIO: Registration with empty required fields =====
---- CAPTURED_SCENARIO_OUTPUT_END ----

  @unhappy
  Scenario: Registration with password shorter than 6 characters                                                                                                        # features/register.feature:28
    Given I am on the registration page                                                                                                                                 # features/steps/register_step.py:5
    When I register detail with email "gdhaison@yopmail.com" and first name "Son" and last name "Vu" and password "123" and confirm password "123"                      # features/steps/register_step.py:32
    Then I should see an error message from password field "Password must meet the following rules: must have at least 6 characters and not greater than 64 characters" # features/steps/register_step.py:56

  @unhappy
  Scenario: Registration with mismatched passwords                                                                                                       # features/register.feature:34
    Given I am on the registration page                                                                                                                  # features/steps/register_step.py:5
    When I register detail with email "gdhaison@yopmail.com" and first name "Son" and last name "Vu" and password "123456" and confirm password "654321" # features/steps/register_step.py:32
    Then I should see an error message from password field "The password and confirmation password do not match."                                        # features/steps/register_step.py:56

